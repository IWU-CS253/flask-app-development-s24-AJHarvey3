{% extends "layout.html" %}
{% block body %}
  <form action="{{ url_for('add_entry') }}" method="post" class="add-entry">
    <dl>
      <dt>Title:
      <dd><input type="text" size="30" name="title">
      <dt>Text:
      <dd><textarea name="text" rows="5" cols="40"></textarea>
      <dt>Category:
      <dd><textarea name="category" rows="1" cols="40"></textarea>
      <dd><input type="submit" value="Share">
    </dl>
  </form>
  <form method="get">
    <label for="cat_filter">Category Filter:
          <select name="cat_filter" >
              <option value="all">All Categories</option>

              {% for cat in categories %}
                <option value="{{ cat }}"> {{ cat }}</option>
              {% endfor %}
          </select>
         <input type="submit" value="Filter">
    </label>
  </form>
  <ul class="entries">
  {% for entry in entries %}
      <li><h2>{{ entry.title }}</h2>{{ entry.text|safe }}</li>
      <li><p>Category: {{ entry.category }}</p></li>
  {% else %}
    <li><em>Unbelievable.  No entries here so far</em></li>
  {% endfor %}
  </ul>
{% endblock %}
